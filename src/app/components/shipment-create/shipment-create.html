<div class="ui container" style="margin-top: 2rem; max-width: 500px;">

    <h2 class="ui header">
        <i class="box icon"></i>
        <div class="content">
            Neuen Paketversand anlegen
            <div class="sub header">Bitte Versanddaten eingeben</div>
        </div>
    </h2>

    <form class="ui form" (ngSubmit)="submitShipment()">

        <div class="ui segment">
            <h4 class="ui dividing header">Absender</h4>

            <div class="field">
                <label>Straße</label>
                <input type="text" [(ngModel)]="sender.street" name="senderStreet" placeholder="Softwarepark" required>
            </div>

            <div class="field">
                <label>Hausnummer</label>
                <input type="text" [(ngModel)]="sender.houseNumber" name="senderHouseNumber" required
                    pattern="^[0-9]{1,3}[a-zA-Z]?(\/[0-9]{1,2})?$" maxlength="6" placeholder="21A">
            </div>

            <div class="field">
                <label>PLZ</label>
                <input type="number" [(ngModel)]="sender.zip" name="senderZip" min="1000" max="9999" placeholder="4020"
                    required>
            </div>

            <div class="field">
                <label>Stadt</label>
                <input type="text" [(ngModel)]="sender.city" name="senderCity" placeholder="Hagenberg" required>
            </div>
        </div>

        <div class="ui segment">
            <h4 class="ui dividing header">Empfänger</h4>

            <div class="field">
                <label>Straße</label>
                <input type="text" [(ngModel)]="receiver.street" name="receiverStreet" placeholder="Garnisonstraße"
                    required>
            </div>

            <div class="field">
                <label>Hausnummer</label>
                <input type="text" [(ngModel)]="receiver.houseNumber" name="receiverHouseNumber"
                    pattern="^[0-9]{1,3}[a-zA-Z]?(\/[0-9]{1,2})?$" maxlength="6" placeholder="12A" required>
            </div>

            <div class="field">
                <label>PLZ</label>
                <input type="number" [(ngModel)]="receiver.zip" name="receiverZip" min="1000" maxl="9999"
                    pattern="^[0-9]{4}$" placeholder="4020" required>
            </div>

            <div class="field">
                <label>Stadt</label>
                <input type="text" [(ngModel)]="receiver.city" name="receiverCity" placeholder="Linz" required>
            </div>
        </div>

        <div class="ui segment">
            <h4 class="ui dividing header">Paketdaten</h4>

            <div class="field">
                <label>Länge</label>
                <input type="number" [(ngModel)]="parcel.length" name="parcelLength" required max="1000" min="1"
                    placeholder="10">
            </div>

            <div class="field">
                <label>Breite</label>
                <input type="number" [(ngModel)]="parcel.width" name="parcelWidth" required max="1000" min="1"
                    placeholder="10">
            </div>

            <div class="field">
                <label>Höhe</label>
                <input type="number" [(ngModel)]="parcel.height" name="parcelHeight" required max="1000" min="1"
                    placeholder="10">
            </div>

            <div class="field">
                <label>Gewicht (kg)</label>
                <input type="number" [(ngModel)]="parcel.weight" name="parcelWeight" required max="1000" min="1"
                    placeholder="1">
            </div>
        </div>

        <button class="ui primary button" type="submit">
            <i class="search icon"></i>
            Paket versenden
        </button>

    </form>

    @if(errorMessage){
    <div class="ui message red">
        {{ errorMessage }}
    </div>
    }
    @if(createdShipment){
    <div class="ui segment green">
        <h3 class="ui header">Paket erfolgreich angelegt!</h3>

        <p><strong>Tracking-ID:</strong> {{ createdShipment.trackingId }}</p>
        <p><strong>Preis:</strong> {{ createdShipment.price }} €</p>

    </div>
    }


</div>